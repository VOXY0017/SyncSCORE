{
  "entities": {
    "Player": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Player",
      "type": "object",
      "description": "Represents a player in the ScoreSync application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Player entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the player."
        },
        "score": {
          "type": "number",
          "description": "The player's score."
        }
      },
      "required": [
        "id",
        "name",
        "score"
      ]
    },
    "UserProfile": {
      "title": "User Profile",
      "type": "object",
      "description": "Represents a user's profile data stored in Firestore.",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The user's unique ID from Firebase Authentication."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the user account was created."
        }
      },
      "required": ["uid", "email", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "players/{playerId}",
        "definition": {
          "entityName": "Player",
          "schema": {
            "$ref": "#/backend/entities/Player"
          },
          "description": "Stores player data including name and score.",
          "params": [
            {
              "name": "playerId",
              "description": "Unique identifier for the player document."
            }
          ]
        }
      },
      {
        "path": "users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/backend/entities/UserProfile"
          },
          "description": "Stores public profile information for a user.",
          "params": [
            {
              "name": "userId",
              "description": "Corresponds to the user's Firebase Auth UID."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to support a real-time, multi-player score system (ScoreSync). The `players` collection stores game-specific data. A separate `users` collection is introduced to store user profile information, linking back to Firebase Authentication via the UID. This separation keeps user data distinct from game data, improving organization and security. Security rules can now be defined on a per-collection basis (e.g., only users can edit their own profiles, while game scores might have different rules)."
  }
}
